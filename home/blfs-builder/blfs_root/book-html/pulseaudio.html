<?xml version="1.0" encoding="ISO-8859-1" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" /><title>PulseAudio-15.0</title><link rel="stylesheet" type="text/css" href="stylesheets/lfs.css" /><meta name="generator" content="DocBook XSL-NS Stylesheets Vsnapshot" /><link rel="stylesheet" href="stylesheets/lfs-print.css" type="text/css" media="print" /></head><body class="blfs" id="blfs-11.0"><div class="navheader"><h4>Beyond Linux<sup>®</sup> From Scratch 
  
  <span class="phrase">(System V</span> Edition) - Version 11.0</h4><h3>Chapter 1. Installing packages in dependency build order</h3><ul><li class="prev"><a accesskey="p" href="libsndfile.html" title="libsndfile-1.0.31">Prev</a><p>libsndfile-1.0.31</p></li><li class="next"><a accesskey="n" href="python3.html" title="Python-3.9.6">Next</a><p>Python-3.9.6</p></li><li class="up"><a accesskey="u" href="ch01.html" title="Chapter 1. Installing packages in dependency build order">Up</a></li><li class="home"><a accesskey="h" href="index.html" title="Beyond Linux® From Scratch &#10;  &#10;  (System V Edition) - Version 11.0">Home</a></li></ul></div><div class="sect1" lang="en" xml:lang="en"><h1 class="sect1"><a id="pulseaudio" name="pulseaudio"></a>PulseAudio-15.0</h1><div class="package" lang="en" xml:lang="en"><h2 class="sect2">Introduction to PulseAudio</h2><p>
      <span class="application">PulseAudio</span> is a sound system for POSIX OSes,
      meaning that it is a proxy for sound applications. It allows you to do
      advanced operations on your sound data as it passes between your
      application and your hardware. Things like transferring the audio to a
      different machine, changing the sample format or channel count and mixing
      several sounds into one are easily achieved using a sound server.
    </p><p>This package is known to build and work
                              properly using an LFS-11.0 platform.</p><h3>Package Information</h3><div class="itemizedlist"><ul class="compact"><li class="listitem"><p>
          Download (HTTP): <a class="ulink" href="https://www.freedesktop.org/software/pulseaudio/releases/pulseaudio-15.0.tar.xz">https://www.freedesktop.org/software/pulseaudio/releases/pulseaudio-15.0.tar.xz</a>
        </p></li><li class="listitem"></li><li class="listitem"><p>
          Download MD5 sum: bb888e7747b778c1c487c63b582ddf40
        </p></li><li class="listitem"><p>
          Download size: 1.5 MB
        </p></li><li class="listitem"><p>
          Estimated disk space required: 49 MB (add 1 MB for tests)
        </p></li><li class="listitem"><p>
          Estimated build time: 0.2 SBU (Using parallelism=4; add 0.2 SBU for tests)
        </p></li></ul></div><h3>PulseAudio Dependencies</h3><h4>Required</h4><p class="required">
      <a class="xref" href="libsndfile.html" title="libsndfile-1.0.31">libsndfile-1.0.31</a>
    </p><h4>Recommended</h4><p class="recommended">
      alsa-lib (in full book)
              ,
      dbus (in full book)
              ,
      <span class="phrase">elogind (in full book)
              ,</span>
      glib2 (in full book)
              ,
      libcap-pam (in full book)
              ,
      speex (in full book)
               and
      xorg7-lib (in full book)
              
    </p><h4>Optional</h4><p class="optional">
      avahi (in full book)
              ,
      bluez (in full book)
              ,
      doxygen (in full book)
               (for documentation),
      fftw (in full book)
              ,
      gtk3 (in full book)
              ,
      libsamplerate (in full book)
              ,
      sbc (in full book)
               (Bluetooth support),
      valgrind (in full book)
              ,
      <a class="ulink" href="http://www.jackaudio.org/">JACK</a>,
      <a class="ulink" href="http://0pointer.de/lennart/projects/libasyncns/">libasyncns</a>,
      <a class="ulink" href="http://www.lirc.org/">LIRC</a>,
      <a class="ulink" href="http://gstreamer.freedesktop.org/src/orc/">ORC</a>,
      <a class="ulink" href="https://sourceforge.net/projects/soxr/">soxr</a>,
      <a class="ulink" href="http://tdb.samba.org/">TDB</a>, and
      <a class="ulink" href="http://freedesktop.org/software/pulseaudio/webrtc-audio-processing/">
      WebRTC AudioProcessing</a>
      
    </p><p class="usernotes">User Notes:
      <a class="ulink" href="https://wiki.linuxfromscratch.org/blfs/wiki/pulseaudio">https://wiki.linuxfromscratch.org/blfs/wiki/pulseaudio</a>
    </p></div><div class="installation" lang="en" xml:lang="en"><h2 class="sect2">Installation of PulseAudio</h2><p>
      Install <span class="application">PulseAudio</span> by running the following
      commands:
    </p><pre class="userinput"><kbd class="command">mkdir build &amp;&amp;
cd    build &amp;&amp;

meson --prefix=/usr       \
      --buildtype=release \
      -Ddatabase=gdbm     \
      -Ddoxygen=false     \
      -Dbluez5=disabled   &amp;&amp;
ninja</kbd></pre><p>
      To test the results, issue: <span class="command"><strong>ninja test</strong></span>. One test
      fails if the tests are not run as the root user, but this can be ignored.
    </p><p>
      Now, as the <code class="systemitem">root</code> user:
    </p><pre class="root"><kbd class="command">ninja install</kbd></pre><p>Running PulseAudio as a system-wide daemon is possible but not 
      recommended. See <a class="ulink" href="https://www.freedesktop.org/wiki/Software/PulseAudio/Documentation/User/SystemWide/">https://www.freedesktop.org/wiki/Software/PulseAudio/Documentation/User/SystemWide/</a>
      for more information.
      While still as the <code class="systemitem">root</code>
      user, remove the <span class="application">D-Bus</span> configuration file
      for the system wide daemon to avoid creating unnecessary system
      users and groups:
    </p><pre class="root"><kbd class="command">rm -fv /etc/dbus-1/system.d/pulseaudio-system.conf</kbd></pre></div><div class="commands" lang="en" xml:lang="en"><h2 class="sect2">Command Explanations</h2><p>
      <em class="parameter"><code>--buildtype=release</code></em>: Specify a buildtype
      suitable for stable releases of the package, as the default may
      produce unoptimized binaries.
    </p><p>
      <em class="parameter"><code>-Dbluez5=false</code></em>: This switch prevents
      a runtime error if dbus (in full book)
               and sbc (in full book)
              
      are both installed but bluez (in full book)
               is not installed.
      Remove this if you have installed all three packages.
    </p><p>
      <em class="parameter"><code>-Ddoxygen=false</code></em>: This allows the package to
      compile if doxygen (in full book)
               is not installed. Remove this
      if you have installed this and wish to build the documentation.
    </p></div><div class="configuration" lang="en" xml:lang="en"><h2 class="sect2">Configuring PulseAudio</h2><div class="sect3" lang="en" xml:lang="en"><h3 class="sect3"><a id="pulseaudio-config" name="pulseaudio-config"></a><h4 class="title"><a id="pulseaudio-config"></a>Config Files</h4></h3><p>
        There are system wide configuration files:
        <code class="filename">/etc/pulse/daemon.conf</code>,
        <code class="filename">/etc/pulse/client.conf</code>,
        <code class="filename">/etc/pulse/default.pa</code>, and user configuration
        files with the same names in
        <code class="filename">~/.config/pulse</code>. User
        configuration files take precedence over system wide ones.
      </p></div><div class="sect3" lang="en" xml:lang="en"><h3 class="sect3"><h4 class="title"><a id="idm140561556308672"></a>Configuration Information</h4></h3><p>
        You may have to configure the audio system. You can start
        <span class="application">pulseaudio</span> in command line mode using
        <span class="command"><strong>pulseaudio -C</strong></span> and then list various
        information and change settings. See
        <span class="command"><strong>man pulse-cli-syntax</strong></span>.
      </p><p>
        If <span class="application">pulseaudio</span> was working but you no-longer
        have sound, after checking for hardware issues (speakers or headphones
        not connected, external amplifier not connected) you may need to fix it.
      </p><p>
        One suggestion is to close the application, such as
        <span class="application">firefox</span> where sound has stopped working, then
        run: <span class="command"><strong>pactl list short sinks</strong></span> followed by:
        <span class="command"><strong>pacmd set-default-sink &lt;sink #&gt;</strong></span> and then
        restart the application.
      </p><p>
        If that does not work, a more drastic approach often works. After closing
        the application, close pulseaudio, either using <span class="command"><strong>pulseaudio
        --kill</strong></span> or, if that fails, <span class="command"><strong>killall -KILL
        pulseaudio</strong></span> and then <span class="command"><strong>rm -rf
        ~/.config/pulse/*</strong></span> (and perhaps also
        <span class="command"><strong>rm -rf ~/.pulse/*</strong></span> if you have used a very old version
        of pulse on this machine), then run <span class="command"><strong>pulseaudio
        --verbose</strong></span> to restart it. If the daemon starts, restart the
        application. See <span class="command"><strong>man pulseaudio</strong></span> for more options.
      </p></div></div><div class="content" lang="en" xml:lang="en"><h2 class="sect2">Contents</h2><div class="segmentedlist"><div class="seglistitem"><div class="seg"><strong class="segtitle">Installed Programs: </strong><span class="segbody">
           pacat, pacmd, pactl, padsp, 
          pamon (symlink to pacat), paplay (symlink to pacat), 
          parec (symlink to pacat), parecord (symlink to pacat), qpaeq, 
          pasuspender, pax11publish, pulseaudio, and
          
          start-pulseaudio-x11
        </span></div><div class="seg"><strong class="segtitle">Installed Libraries: </strong><span class="segbody">
          libpulse.so,
          libpulse-mainloop-glib.so,
          libpulse-simple.so,
          libpulsecommon-15.0.so,
          libpulsecore-15.0.so, and 
          libpulsedsp.so
        </span></div><div class="seg"><strong class="segtitle">Installed Directories: </strong><span class="segbody">
          /etc/pulse,
          /usr/include/pulse,
          /usr/lib/cmake/PulseAudio,
          /usr/lib/{pulseaudio,pulse-15.0},
          /usr/libexec/pulse, and
          /usr/share/pulseaudio
        </span></div></div></div><div class="variablelist"><h3>Short Descriptions</h3><table border="0" class="variablelist"><colgroup><col align="left" valign="top" /><col /></colgroup><tbody><tr><td><p><a id="pacat"></a><span class="term"><span class="command"><strong>pacat</strong></span></span></p></td><td><p>
            plays back or records raw or encoded audio streams on a
            <span class="application">PulseAudio</span> sound server
          </p></td></tr><tr><td><p><a id="pacmd"></a><span class="term"><span class="command"><strong>pacmd</strong></span></span></p></td><td><p>
            is a tool used to reconfigure a <span class="application">PulseAudio</span>
            sound server during runtime
          </p></td></tr><tr><td><p><a id="pactl"></a><span class="term"><span class="command"><strong>pactl</strong></span></span></p></td><td><p>
            is used to control a running <span class="application">PulseAudio</span>
            sound server
          </p></td></tr><tr><td><p><a id="padsp"></a><span class="term"><span class="command"><strong>padsp</strong></span></span></p></td><td><p>
            is the <span class="application">PulseAudio</span> OSS Wrapper
          </p></td></tr><tr><td><p><a id="pamon"></a><span class="term"><span class="command"><strong>pamon</strong></span></span></p></td><td><p>
            is a symbolic link to <span class="command"><strong>pacat</strong></span>
           </p></td></tr><tr><td><p><a id="paplay"></a><span class="term"><span class="command"><strong>paplay</strong></span></span></p></td><td><p>
            is used to play audio files on a
            <span class="application">PulseAudio</span> sound server
          </p></td></tr><tr><td><p><a id="parec"></a><span class="term"><span class="command"><strong>parec</strong></span></span></p></td><td><p>
            is a symbolic link to <span class="command"><strong>pacat</strong></span>
          </p></td></tr><tr><td><p><a id="parecord"></a><span class="term"><span class="command"><strong>parecord</strong></span></span></p></td><td><p>
            is a symbolic link to <span class="command"><strong>pacat</strong></span>
          </p></td></tr><tr><td><p><a id="pasuspender"></a><span class="term"><span class="command"><strong>pasuspender</strong></span></span></p></td><td><p>
            is a tool that can be used to tell a local
            <span class="application">PulseAudio</span> sound server to temporarily
            suspend access to the audio devices, to allow other applications
            to access them directly
          </p></td></tr><tr><td><p><a id="pax11publish"></a><span class="term"><span class="command"><strong>pax11publish</strong></span></span></p></td><td><p>
            is the <span class="application">PulseAudio</span>
            X11 Credential Utility
          </p></td></tr><tr><td><p><a id="pa-info"></a><span class="term"><span class="command"><strong>pa-info</strong></span></span></p></td><td><p>
            is a shell script that prints various information relating to the
            <span class="application">Pulseaudio</span> server currently in use
          </p></td></tr><tr><td><p><a id="pulseaudio-prog"></a><span class="term"><span class="command"><strong>pulseaudio</strong></span></span></p></td><td><p>
            is a networked low-latency sound server for Linux
          </p></td></tr><tr><td><p><a id="qpaeq"></a><span class="term"><span class="command"><strong>qpaeq</strong></span></span></p></td><td><p>
            is an equalizer interface for
            <span class="application">PulseAudio</span> equalizer sinks 
            (Requires fftw (in full book)
               at build time)
          </p></td></tr><tr><td><p><a id="start-pulseaudio-x11"></a><span class="term"><span class="command"><strong>start-pulseaudio-x11</strong></span></span></p></td><td><p>
            starts <span class="application">PulseAudio</span> and registers it to
            the X11 session manager
          </p></td></tr></tbody></table></div></div><p class="updated">Last updated 
      on
      </p></div><div class="navfooter"><ul><li class="prev"><a accesskey="p" href="libsndfile.html" title="libsndfile-1.0.31">Prev</a><p>libsndfile-1.0.31</p></li><li class="next"><a accesskey="n" href="python3.html" title="Python-3.9.6">Next</a><p>Python-3.9.6</p></li><li class="up"><a accesskey="u" href="ch01.html" title="Chapter 1. Installing packages in dependency build order">Up</a></li><li class="home"><a accesskey="h" href="index.html" title="Beyond Linux® From Scratch &#10;  &#10;  (System V Edition) - Version 11.0">Home</a></li></ul></div></body></html>